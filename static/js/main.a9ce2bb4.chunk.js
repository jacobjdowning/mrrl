(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(20)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i,a,r,l=n(0),o=n.n(l),m=n(4),s=n.n(m),u=(n(13),n(2)),c=n(1),d=n(5);n(14),n(15);!function(e){e[e.Normal=1]="Normal",e[e.Uncommon=2]="Uncommon",e[e.Rare=3]="Rare",e[e.Epic=4]="Epic"}(i||(i={})),function(e){e[e.Items=0]="Items",e[e.Gold=1]="Gold"}(a||(a={})),function(e){e[e.FlatulentFish=167906]="FlatulentFish",e[e.CuriousMurlocHorn=167905]="CuriousMurlocHorn",e[e.ExtraSlimySnail=167907]="ExtraSlimySnail",e[e.SeaGiantFootDust=167908]="SeaGiantFootDust",e[e.OverwhelminglyAlluringIdol=169781]="OverwhelminglyAlluringIdol",e[e.HealthyMurlocLunch=167913]="HealthyMurlocLunch",e[e.JarOfFishFaces=167914]="JarOfFishFaces",e[e.SweetSeaVegetable=167915]="SweetSeaVegetable",e[e.DirtyMurlocSock=167916]="DirtyMurlocSock",e[e.CultistPinkyFinger=169783]="CultistPinkyFinger",e[e.GhostFood=167909]="GhostFood",e[e.BagOfWhoKnowsWhat=167910]="BagOfWhoKnowsWhat",e[e.JustRegularButter=167911]="JustRegularButter",e[e.UnidentifiedMass=167912]="UnidentifiedMass",e[e.BeckonersRosettaStone=169782]="BeckonersRosettaStone",e[e.SlimyNagaEyeball=167896]="SlimyNagaEyeball",e[e.ParticularlyDenseRock=167902]="ParticularlyDenseRock",e[e.DisintegratingSandSculpture=167903]="DisintegratingSandSculpture",e[e.SmellyPileOfGloop=167904]="SmellyPileOfGloop",e[e.PulsatingBloodStone=169780]="PulsatingBloodStone",e[e.CuriouslyWarmKelpBundle=168092]="CuriouslyWarmKelpBundle",e[e.GrimyManapearlBracelet=168093]="GrimyManapearlBracelet",e[e.PilferedArmorCrate=168097]="PilferedArmorCrate",e[e.UnusuallyWiseHermitCrab=168053]="UnusuallyWiseHermitCrab",e[e.CrimsonTidestallion=169202]="CrimsonTidestallion",e[e.HungryHeraldsTentacleTaco=170100]="HungryHeraldsTentacleTaco"}(r||(r={}));var y={name:"Hurlgrl",inventory:[{name:"Sweet Sea Vegetable",itemId:r.SweetSeaVegetable,rarity:i.Normal,cost:{type:a.Gold,quantity:1}},{name:"Jar of Fish Faces",itemId:r.JarOfFishFaces,rarity:i.Uncommon,cost:{type:a.Items,items:[{itemId:r.FlatulentFish,quantity:5}]}},{name:"Dirty Murloc Sock",itemId:r.DirtyMurlocSock,rarity:i.Uncommon,cost:{type:a.Items,items:[{itemId:r.UnidentifiedMass,quantity:6}]}},{name:"Healthy Murloc Lunch",itemId:r.HealthyMurlocLunch,rarity:i.Rare,cost:{type:a.Items,items:[{itemId:r.CuriousMurlocHorn,quantity:5}]}},{name:"Cultist Pinky Finger",itemId:r.CultistPinkyFinger,rarity:i.Epic,secret:!0,cost:{type:a.Items,items:[{itemId:r.SmellyPileOfGloop,quantity:5},{itemId:r.GhostFood,quantity:7}]}}]},I={name:"Flrgrrl",inventory:[{name:"Unindentified Mass",itemId:r.UnidentifiedMass,rarity:i.Normal,cost:{type:a.Gold,quantity:1}},{name:"Just Regular Butter",itemId:r.JustRegularButter,rarity:i.Uncommon,cost:{type:a.Items,items:[{itemId:r.SweetSeaVegetable,quantity:4}]}},{name:"Bag of Who-Knows-What",itemId:r.BagOfWhoKnowsWhat,rarity:i.Uncommon,cost:{type:a.Items,items:[{itemId:r.FlatulentFish,quantity:2}]}},{name:"Ghost Food",itemId:r.GhostFood,rarity:i.Rare,cost:{type:a.Items,items:[{itemId:r.CuriousMurlocHorn,quantity:6}]}},{name:"Beckoner's Rosetta Stone",itemId:r.BeckonersRosettaStone,rarity:i.Epic,secret:!0,cost:{type:a.Items,items:[{itemId:r.SmellyPileOfGloop,quantity:2},{itemId:r.ParticularlyDenseRock,quantity:9}]}}]},f={name:"Grrmrlg",inventory:[{name:"Flatulent Fish",itemId:r.FlatulentFish,rarity:i.Normal,cost:{type:a.Gold,quantity:1}},{name:"Curious Murloc Horn",itemId:r.CuriousMurlocHorn,rarity:i.Uncommon,cost:{type:a.Items,items:[{itemId:r.SlimyNagaEyeball,quantity:3}]}},{name:"Extra-Slimy Snail",itemId:r.ExtraSlimySnail,rarity:i.Rare,cost:{type:a.Items,items:[{itemId:r.DisintegratingSandSculpture,quantity:5}]}},{name:"Sea Giant Foot Dust",itemId:r.SeaGiantFootDust,rarity:i.Rare,cost:{type:a.Items,items:[{itemId:r.DirtyMurlocSock,quantity:3}]}},{name:"Overwhelmingly-Alluring Idol",itemId:r.OverwhelminglyAlluringIdol,rarity:i.Epic,secret:!0,cost:{type:a.Items,items:[{itemId:r.HealthyMurlocLunch,quantity:8},{itemId:r.GhostFood,quantity:4}]}}]},h={name:"Mrrglrlr",inventory:[{name:"Slimy Naga Eyeball",itemId:r.SlimyNagaEyeball,rarity:i.Normal,cost:{type:a.Gold,quantity:1}},{name:"Disintegrating Sand Sculpture",itemId:r.DisintegratingSandSculpture,rarity:i.Uncommon,cost:{type:a.Items,items:[{itemId:r.SweetSeaVegetable,quantity:4}]}},{name:"Particularly Dense Rock",itemId:r.ParticularlyDenseRock,rarity:i.Rare,cost:{type:a.Items,items:[{itemId:r.BagOfWhoKnowsWhat,quantity:3},{itemId:r.JarOfFishFaces,quantity:3}]}},{name:"Smelly Pile of Gloop",itemId:r.SmellyPileOfGloop,rarity:i.Rare,cost:{type:a.Items,items:[{itemId:r.JustRegularButter,quantity:2}]}},{name:"Pulsating Blood Stone",itemId:r.PulsatingBloodStone,rarity:i.Epic,secret:!0,cost:{type:a.Items,items:[{itemId:r.SeaGiantFootDust,quantity:8},{itemId:r.HealthyMurlocLunch,quantity:7}]}}]},g={name:"Mrrl",inventory:[{name:"Unusually Wise Hermit Crab",itemId:r.UnusuallyWiseHermitCrab,rarity:i.Epic,mrrl:!0,cost:{type:a.Items,items:[{itemId:r.HealthyMurlocLunch,quantity:4},{itemId:r.ParticularlyDenseRock,quantity:2},{itemId:r.ExtraSlimySnail,quantity:3}]}},{name:"Crimson Tidestallion",itemId:r.CrimsonTidestallion,rarity:i.Epic,mrrl:!0,secret:!0,cost:{type:a.Items,items:[{itemId:r.CultistPinkyFinger,quantity:4},{itemId:r.PulsatingBloodStone,quantity:2},{itemId:r.HungryHeraldsTentacleTaco,quantity:3}]}},{name:"Curiously Warm Kelp Bundle",itemId:r.CuriouslyWarmKelpBundle,rarity:i.Epic,mrrl:!0,cost:{type:a.Items,items:[{itemId:r.ParticularlyDenseRock,quantity:2},{itemId:r.GhostFood,quantity:4},{itemId:r.HealthyMurlocLunch,quantity:5}]}},{name:"Grimy Manapearl Bracelet",itemId:r.GrimyManapearlBracelet,rarity:i.Epic,mrrl:!0,cost:{type:a.Items,items:[{itemId:r.SmellyPileOfGloop,quantity:3},{itemId:r.GhostFood,quantity:1},{itemId:r.SeaGiantFootDust,quantity:3}]}},{name:"Pilfered Armor Crate",itemId:r.PilferedArmorCrate,rarity:i.Epic,mrrl:!0,cost:{type:a.Items,items:[{itemId:r.SeaGiantFootDust,quantity:3},{itemId:r.SmellyPileOfGloop,quantity:4},{itemId:r.ParticularlyDenseRock,quantity:3}]}}]},p={name:"Murloco",instruction:"Found at 46.22 32.57 in Nazjatar. Kill the 2 Naga guards to release Murloco.",inventory:[{name:"Hungry Herald's Tentacle Taco",itemId:r.HungryHeraldsTentacleTaco,rarity:i.Epic,cost:{type:a.Gold,quantity:666}}]},S=[y,f,h,I,g,p],v=S.flatMap(function(e){return e.inventory}),E=v.reduce(function(e,t){return e[t.itemId]=t,e},{});var q=function(e){for(var t={},n=0;n<e.length;n++)for(var i=e[n],a=0;a<i.inventory.length;a++)t[i.inventory[a].itemId]=i;return t}(S),w=(n(16),function(e){var t=e.itemId,n=e.onClick;return o.a.createElement("div",{className:"item item--".concat(E[t].rarity),onClick:n},o.a.createElement("img",{className:"item__image",src:"/mrrl/items/"+t+".jpg"}),o.a.createElement("span",{className:"item__name"},E[t].name))}),F=(n(17),v.filter(function(e){return!e.mrrl&&(e.rarity==i.Rare||e.rarity==i.Epic)}).sort(function(e,t){return e.rarity==t.rarity?e.name.localeCompare(t.name):t.rarity-e.rarity})),M=function(e){var t=e.onQuantityChange,n=e.wantedItems,i=e.includeSecretShop,a=n.reduce(function(e,t){return e[t.itemId]=t.quantity,e},{}),r=function(e){var n=e.target,i=+n.name,a=+n.value;t(i,a)},l=function(e){var t=a[e];return null==t?"":t.toString()};return o.a.createElement("div",{className:"want__container"},o.a.createElement("h2",null,"Materials"),o.a.createElement("div",{className:"want__items"},F.filter(function(e){return!e.secret||i}).map(function(e){return o.a.createElement("div",{className:"col-6 want__item want__item--".concat(e.rarity)},o.a.createElement("input",{type:"number",className:"want__input",name:e.itemId.toString(),onChange:r,value:l(e.itemId)}),o.a.createElement(w,{itemId:e.itemId}))})))},C=n(6);function k(e){if(0==e.items.length)return[];var t=[];e=JSON.parse(JSON.stringify(e));var n={},i=e.items.find(function(e){return e.itemId==r.UnidentifiedMass});null!=i&&(e.items=[i].concat(Object(C.a)(e.items.filter(function(e){return e!=i}))));for(var l=function(e,t){var i=n[e.itemId];if(n[e.itemId]=null!=i?i+t:t,e.cost.type==a.Items)for(var r=0;r<e.cost.items.length;r++){var l=e.cost.items[r],o=n[l.itemId];if(null==o)throw new Error("Buying something we don't have the math for!");if(o<t*l.quantity)throw new Error("Not enough mats!");n[l.itemId]=o-t*l.quantity}},o=0,m=void 0;e.items.length>0;){var s=e.items.findIndex(function(e){return q[e.itemId]==m&&G(n,e.itemId,e.quantity)});if(s<0&&(s=e.items.findIndex(function(e){return G(n,e.itemId,e.quantity)}))<0)throw new Error("Couldn't find a next item to buy??.");var u=e.items[s],c=E[u.itemId],d=q[u.itemId];console.log("Want to buy ".concat(u.quantity,"x").concat(u.itemId)),console.log("It is sold by: ".concat(d.name)),l(c,u.quantity);t[t.length-1];if(t.push({vendor:d.name,items:[{itemId:u.itemId,quantity:u.quantity}]}),m=d,e.items.splice(s,1),++o>50)throw new Error("Couldn't find a route.")}return function(e){for(var t=!1,n=0;n<e.length;n++){var i=e[n];if(null!=i.items){if(i.items.find(function(e){return e.itemId==r.DirtyMurlocSock})&&(t=!0),t&&null!=i.vendor&&"Flrgrrl"==i.vendor){e.splice(n,0,{vendor:"Flrgrrl",items:[],other:"Clean the dirty socks."}),t=!1,!0;break}if(t&&i.items.find(function(e){var t=E[e.itemId];return t.cost.type==a.Items&&t.cost.items.findIndex(function(e){return e.itemId==r.DirtyMurlocSock})>=0})){e.splice(n,0,{vendor:"Flrgrrl",items:[],other:"Clean the dirty socks."}),t=!1,!0;break}}}}(t),function(e){for(var t=0;t<e.length-1;t++){var n=e[t],i=e[t+1];n.vendor==i.vendor&&(n.items=n.items.concat(i.items),null!=i.other&&(n.other=i.other),e.splice(t+1,1))}}(t),t}function G(e,t,n){var i=E[t];return i.cost.type==a.Gold||i.cost.type==a.Items&&i.cost.items.reduce(function(t,i){var a=e[i.itemId],r=null!=a&&a>=n*i.quantity;return t&&r},!0)}n(18);var _=function(e){var t=e.includeSecretShop,n=e.onItemSelected,i=e.selectedItems;return o.a.createElement("div",{className:"suggestions__container"},o.a.createElement("h2",null,"Select an item you want to buy here, or populate the materials manually."),o.a.createElement("div",{className:"suggestions__filter"},"Filter: ",o.a.createElement("input",{type:"text"})),o.a.createElement("div",{className:"suggestions__results"},g.inventory.filter(function(e){return!e.secret||t}).map(function(e){return o.a.createElement("div",{className:"col-4 suggestions__item "+(i[e.itemId]?"suggestions__item--selected":"")},o.a.createElement(w,{itemId:e.itemId,onClick:function(t){return n(e.itemId,!!t.shiftKey)}}))})))},b=(n(19),function(e){var t=e.route,n=e.requiredMats;return o.a.createElement("div",{className:"results__container"},o.a.createElement("h2",null,"Results"),"Cost: ",n.gold," Gold",o.a.createElement("h3",null,"Steps"),o.a.createElement("div",{className:"results__route"},o.a.createElement("table",{className:"results__steps"},o.a.createElement("tr",null,o.a.createElement("th",null,"#"),o.a.createElement("th",null,"Vendor"),o.a.createElement("th",null,"Items/Action")),t.map(function(e,t){return o.a.createElement("tr",null,o.a.createElement("td",null,t+1),o.a.createElement("td",{className:"results__vendor"},o.a.createElement("div",null,e.vendor),o.a.createElement("div",null,o.a.createElement("img",{src:"/mrrl/images/npc/"+e.vendor+".jpg"}))),o.a.createElement("td",null,e.items&&e.items.map(function(e){return o.a.createElement("div",{className:"results__item"},o.a.createElement("span",{className:"col-3 results__quantity"},e.quantity),o.a.createElement("div",{className:"col-10"},o.a.createElement(w,{itemId:e.itemId})))}),o.a.createElement("div",{className:"results__other"},e.other)))}))))}),N=function(e,t){e.gold=e.gold+t.gold,t.items.forEach(function(t){var n=e.items.find(function(e){return e.itemId==t.itemId});n?n.quantity=n.quantity+t.quantity:e.items.push(t)})},O=function(){var e=Object(l.useState)({wantedItems:[],route:[],requiredMats:{items:[],gold:0},includeSecretShop:!0,selectedItems:{}}),t=Object(d.a)(e,2),n=t[0],i=t[1],r=function(e){var t=m(e),n=k(t);i(function(i){return Object(c.a)({},i,{wantedItems:e,route:n,requiredMats:t})})},m=function(e){var t={gold:0,items:[]};return e.forEach(function(e){N(t,function e(t,n){var i={gold:0,items:[{itemId:t,quantity:n}]},r=E[t];if(r.cost.type==a.Gold)N(i,{gold:n*r.cost.quantity,items:[]});else if(r.cost.type==a.Items)for(var l=0;l<r.cost.items.length;l++){var o=r.cost.items[l],m=e(o.itemId,n*o.quantity);N(i,m)}return i}(e.itemId,e.quantity))}),t};return o.a.createElement("div",{className:"App"},o.a.createElement("h1",null,"Mrrl!"),o.a.createElement(_,{onItemSelected:function(e,t){var l=Object(c.a)({},n.selectedItems);if(t){l[e]=!0;var o=document.getSelection();null!=o&&o.removeAllRanges()}else l=Object(u.a)({},e,!0);var m=[];for(var s in l){var d=E[s];d.cost.type==a.Items&&d.cost.items.forEach(function(e){var t=e.itemId,n=e.quantity;m.push({itemId:t,quantity:n})})}if(m=m.reduce(function(e,t){var n=e.find(function(e){return e.itemId==t.itemId});return null!=n?n.quantity=n.quantity+t.quantity:e.push({itemId:t.itemId,quantity:t.quantity}),e},[]),l=Object(c.a)({},n.selectedItems),t){l[e]=!0;var y=document.getSelection();null!=y&&y.removeAllRanges()}else l=Object(u.a)({},e,!0);i(function(e){return Object(c.a)({},e,{selectedItems:l})}),r(m)},includeSecretShop:n.includeSecretShop,selectedItems:n.selectedItems}),o.a.createElement(M,{onQuantityChange:function(e,t){var i=n.wantedItems.filter(function(t){return t.itemId!=e});t>0&&i.push({itemId:e,quantity:t}),r(i)},wantedItems:n.wantedItems,includeSecretShop:n.includeSecretShop}),o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:n.includeSecretShop,onChange:function(e){var t=e.target.checked;i(function(e){return Object(c.a)({},e,{includeSecretShop:t})})}}),"Include secret shop (cloak required)"),o.a.createElement(b,{route:n.route,requiredMats:n.requiredMats}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[7,1,2]]]);
//# sourceMappingURL=main.a9ce2bb4.chunk.js.map